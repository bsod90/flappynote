<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flappy Note - Pitch Matching Game</title>
  <meta name="description" content="Learn pitch matching through play! Flappy Note is a fun musical game that helps you develop your ear and vocal control using scales, modes, and chords.">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://flappynote.com/">
  <meta property="og:title" content="Flappy Note - Pitch Matching Game">
  <meta property="og:description" content="Learn pitch matching through play! A fun musical game that helps you develop your ear and vocal control using scales, modes, and chords.">
  <meta property="og:image" content="https://flappynote.com/og-image.png">
  <meta property="og:image:width" content="1400">
  <meta property="og:image:height" content="867">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://flappynote.com/">
  <meta name="twitter:title" content="Flappy Note - Pitch Matching Game">
  <meta name="twitter:description" content="Learn pitch matching through play! A fun musical game that helps you develop your ear and vocal control using scales, modes, and chords.">
  <meta name="twitter:image" content="https://flappynote.com/og-image.png">

  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="/src/ui/styles.css">

  <!-- Google Analytics -->
  <script>
    // Only load Google Analytics if measurement ID is configured
    const gaMeasurementId = '%VITE_GA_MEASUREMENT_ID%';
    if (gaMeasurementId && gaMeasurementId !== '' && !gaMeasurementId.startsWith('%')) {
      // Load gtag.js
      const script = document.createElement('script');
      script.async = true;
      script.src = `https://www.googletagmanager.com/gtag/js?id=${gaMeasurementId}`;
      document.head.appendChild(script);

      // Initialize gtag
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', gaMeasurementId);
    }
  </script>
</head>
<body>
  <div id="app">
    <div id="ui-container">
      <div id="controls">
        <!-- Title -->
        <h1>Flappy Note</h1>

        <!-- Settings group (desktop: inline, mobile: collapsible) -->
        <div id="settings-group">
          <button id="settings-toggle" class="settings-toggle">Settings ‚öôÔ∏è</button>
          <div id="settings-panel" class="settings-panel">
          <div class="control-group">
            <label for="root-note">Root Note:</label>
            <select id="root-note">
              <option value="C">C</option>
              <option value="C#">C# / Db</option>
              <option value="D" selected>D</option>
              <option value="D#">D# / Eb</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="F#">F# / Gb</option>
              <option value="G">G</option>
              <option value="G#">G# / Ab</option>
              <option value="A">A</option>
              <option value="A#">A# / Bb</option>
              <option value="B">B</option>
            </select>
          </div>
          <div class="control-group">
            <label for="scale-type">Mode:</label>
            <select id="scale-type">
              <optgroup label="Scales">
                <option value="major" selected>Major Scale</option>
                <option value="minor">Natural Minor</option>
                <option value="harmonicMinor">Harmonic Minor</option>
                <option value="melodicMinor">Melodic Minor</option>
                <option value="pentatonic">Pentatonic Major</option>
                <option value="blues">Blues Scale</option>
                <option value="chromatic">Chromatic</option>
              </optgroup>
              <optgroup label="Modes">
                <option value="dorian">Dorian</option>
                <option value="mixolydian">Mixolydian</option>
              </optgroup>
              <optgroup label="7th Chords">
                <option value="major7">Major 7th</option>
                <option value="dominant7">Dominant 7th</option>
                <option value="minor7">Minor 7th</option>
                <option value="minorMajor7">Minor Major 7th</option>
                <option value="halfDiminished7">Half Diminished 7th</option>
                <option value="diminished7">Diminished 7th</option>
              </optgroup>
              <optgroup label="Advanced">
                <option value="wholeTone">Whole Tone</option>
                <option value="diminished">Diminished</option>
              </optgroup>
            </select>
          </div>
          <div class="control-group">
            <label for="direction">Direction:</label>
            <select id="direction">
              <option value="up" selected>Ascending ‚Üë</option>
              <option value="down">Descending ‚Üì</option>
              <option value="random">Random üé≤</option>
            </select>
          </div>
          <!-- Drone toggle (inside settings panel for mobile) -->
          <div class="control-group drone-toggle-group">
            <label for="drone-toggle" class="drone-label">
              <input type="checkbox" id="drone-toggle">
              Root Drone (use headphones)
            </label>
          </div>

          </div>
        </div>

        <!-- Button group -->
        <div id="button-group">
          <button id="start-button">Start Game</button>
          <button id="reset-button" disabled>Reset</button>
        </div>
      </div>
      <div id="game-info">
        <div id="pitch-display">Pitch: --</div>
        <div id="score-display">Score: 0</div>
        <div id="status-display">Click Start to begin</div>
      </div>
    </div>
    <canvas id="game-canvas"></canvas>
  </div>

  <!-- Footer -->
  <footer id="game-footer">
    <p>
      <a href="https://github.com/bsod90/flappynote" target="_blank" rel="noopener noreferrer">
        View on GitHub
      </a>
    </p>
  </footer>

  <!-- Debug Toggle Button -->
  <button id="debug-toggle" title="Toggle Debug Overlay">üéµ</button>

  <script type="module" src="/src/main.js?v=34"></script>
</body>
</html>
